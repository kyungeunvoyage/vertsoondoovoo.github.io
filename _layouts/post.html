---
layout: default
---

{%-include back_link.html-%}

<article>
  <p class="post-meta">
    <time datetime="{{ page.date }}">{{ page.date | date: site.theme_config.date_format }}</time>
  </p>

  <h1>{{ page.title }}</h1>

  {{ content }}

  <div id="cusdis_thread"
    data-host="https://cusdis.com"
    data-app-id="09934298-70a8-466a-8057-f8ac6a3a0a81"
    data-page-id="{{ page.url }}"
    data-page-url="{{ site.url }}{{ page.url }}"
    data-page-title="{{ page.title }}"
    data-theme="dark" ></div>

  <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>
</article>

<script>
    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.addedNodes.length === 0) return;

            const iframe = mutation.addedNodes[0];
            if (iframe.tagName !== 'IFRAME') return;

            // ---------------------------------------------
            // 이메일 필드를 숨기고 레이아웃을 조정하는 CSS
            // ---------------------------------------------
            const additionalStyles = `
                /* 1. 이메일 입력 필드와 폼 그룹 전체를 숨깁니다. (기존 코드 유지) */
                input[type="email"] {
                    display: none !important;
                }
                .cusdis-form-item:has(input[type="email"]) {
                    display: none !important;
                }

                /* 2. Cusdis 위젯 상단의 안내 텍스트를 숨깁니다. */
                /* 'cusdis-widget' 클래스가 위젯 전체를 감싸는 부모이고,
                   그 안에 있는 첫 번째 자식 요소(안내 텍스트일 가능성이 높음)를 숨깁니다.
                   클래스 이름이 없는 단순 텍스트 요소일 경우를 대비하여 :first-child를 사용합니다. */
                .cusdis-widget > div:first-child:not(.cusdis-form-container) {
                    display: none !important;
                }
                /* 또는 안내 문구가 'cusdis-header'나 'cusdis-login-prompt' 등의 클래스라면 아래 코드를 사용: */
                .cusdis-header, .cusdis-login-prompt, .cusdis-top-text {
                    display: none !important;
                }


                /* 3. 닉네임과 댓글 칸을 세로로 깔끔하게 배치 (기존 코드 유지) */
                .cusdis-form-container {
                    display: flex;
                    flex-direction: column;
                }

                /* 4. 색상 커스텀 (기존 코드 유지) */
                input[type="text"],
                textarea {
                    background-color: #242424 !important; /* 입력 필드 배경색 */
                    color: #e0e0e0 !important; /* 입력 텍스트 색상 */
                    border-color: #555555 !important;
                }
                .cusdis-form-item__label {
                    color: #e0ee0e !important; /* 레이블 텍스트 색상 */
                    background-color: #546a3a !important; /* 레이블 배경색 */
                    padding: 4px 8px;
                    border-radius: 4px;
                }
            `;
            // ---------------------------------------------

            iframe.srcdoc = iframe.srcdoc.replace('</style>', additionalStyles + '</style>');
        });
    });

    const cusdisThread = document.getElementById("cusdis_thread");
    if (cusdisThread) {
        observer.observe(cusdisThread, {
            childList: true,
            subtree: true
        });
    }
</script>
